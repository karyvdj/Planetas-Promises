<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <title>Planetas</title>
  </head>
  <body>
    <h1>Planetas</h1>

    <script>
       function getJSON(url) {
           return new Promise(function(resolve, reject) {  //retorna promise para poder agregar then o catch
               var ajax = new XMLHttpRequest();  //crear la instancia
               ajax.open("GET", url);  //abrir la conexion
               ajax.send();  // se envia
               ajax.onreadystatechange = function() { //contiene el manejador del evento que es invocado cuando se dispara el evento
                   if (ajax.readyState == 4) {
                       resolve(JSON.parse(ajax.responseText));
                   };
               };
           });
       };

       getJSON("data/earth-like-results.json")
       .then(function(mensaje){
         console.log(mensaje)
         return(getJSON(mensaje.results[0]))
       })
       .then(function(resultado){
         console.log(resultado)
       })
   </script>
  </body>
</html>
